# 조립 가이드

TALLY NODE 하드웨어 조립 및 설치 가이드입니다.

## 📦 구성품 확인

### 기본 구성품
- [x] TALLY NODE V1 PCB
- [x] 3D 프린팅 케이스 (상판/하판)
- [x] LoRa 안테나 (433MHz/915MHz)
- [x] 배터리 (LiPo 3.7V, 1000mAh)
- [x] USB-C 케이블
- [x] 나사 4개 (M3 x 6mm)

### 추가 구성품 (옵션)
- [ ] 외부 안테나 (고성능용)
- [ ] 마운팅 브래킷
- [ ] 벨크로 스트랩
- [ ] 추가 배터리

## 🔧 조립 과정

### 1단계: PCB 점검

!!! warning "정전기 주의"
    PCB를 다룰 때는 정전기 방지 손목띠를 착용하거나 접지된 물체를 먼저 만져주세요.

1. **육안 검사**
   - PCB 표면에 손상이나 균열이 없는지 확인
   - 납땜 상태가 양호한지 확인
   - 부품이 제대로 장착되어 있는지 확인

2. **연결부 확인**
   - USB-C 커넥터 상태 확인
   - 배터리 커넥터 상태 확인
   - 안테나 커넥터 상태 확인

### 2단계: 안테나 장착

```mermaid
graph LR
    A[안테나] --> B[U.FL 커넥터]
    B --> C[SX1268 모듈]
    C --> D[PCB]
```

1. **안테나 연결**
   - U.FL 커넥터를 SX1268 모듈의 안테나 포트에 연결
   - 딸깍 소리가 날 때까지 눌러서 고정
   - 안테나가 PCB와 수직이 되도록 배치

2. **안테나 고정**
   - 안테나가 움직이지 않도록 케이스 내부에 고정
   - 금속 부분이 다른 부품에 접촉하지 않도록 주의

### 3단계: 배터리 연결

!!! danger "극성 주의"
    배터리 연결 시 반드시 극성(+/-)을 확인하세요. 잘못 연결하면 보드가 손상될 수 있습니다.

1. **배터리 확인**
   - 배터리 전압이 3.6V ~ 4.2V 범위인지 확인
   - 배터리 커넥터가 손상되지 않았는지 확인

2. **연결**
   - 배터리 커넥터를 PCB의 BAT 포트에 연결
   - 빨간선(+)이 + 표시에, 검은선(-)이 - 표시에 맞는지 확인

3. **전원 테스트**
   - 전원 스위치를 ON 위치로 이동
   - OLED 디스플레이가 켜지는지 확인

### 4단계: 케이스 장착

#### 하단 케이스 준비
1. **배터리 배치**
   - 하단 케이스의 배터리 슬롯에 배터리 배치
   - 배터리 케이블이 꺾이지 않도록 정리

2. **PCB 장착**
   - PCB를 하단 케이스의 가이드에 맞춰 배치
   - USB-C 포트가 케이스 개구부와 정렬되는지 확인

#### 상단 케이스 결합
1. **디스플레이 정렬**
   - OLED 디스플레이가 상단 케이스 창과 정렬되는지 확인
   - 버튼이 케이스의 버튼 구멍과 정렬되는지 확인

2. **케이스 결합**
   - 상하 케이스를 조심스럽게 결합
   - 케이블이 끼지 않도록 주의

3. **나사 체결**
   - M3 나사 4개로 케이스 고정
   - 과도하게 조이지 말고 적당히 체결

### 5단계: 최종 검사

#### 외관 검사
- [x] 케이스가 완전히 결합되었는지 확인
- [x] 안테나가 자유롭게 움직일 수 있는지 확인
- [x] 버튼이 정상적으로 작동하는지 확인
- [x] USB-C 포트에 접근 가능한지 확인

#### 기능 검사
- [x] 전원이 켜지는지 확인
- [x] OLED 디스플레이가 정상 표시되는지 확인
- [x] LED가 정상 동작하는지 확인
- [x] USB 연결이 인식되는지 확인

## 🔍 문제 해결

### 전원이 안 켜짐
1. **배터리 전압 확인**
   - 멀티미터로 배터리 전압 측정 (3.6V 이상이어야 함)
   - 필요시 배터리 충전

2. **연결 확인**
   - 배터리 커넥터가 제대로 연결되었는지 확인
   - 전원 스위치가 ON 위치에 있는지 확인

3. **퓨즈 확인**
   - PCB의 퓨즈가 끊어지지 않았는지 확인

### OLED 디스플레이가 안 보임
1. **I2C 연결 확인**
   - SDA, SCL 핀의 납땜 상태 확인
   - OLED 모듈이 제대로 장착되었는지 확인

2. **전압 확인**
   - 3.3V 전원이 OLED에 공급되는지 확인

### USB 인식 안됨
1. **케이블 확인**
   - 다른 USB-C 케이블로 테스트
   - 데이터 전송 지원 케이블인지 확인

2. **드라이버 확인**
   - ESP32-S3 USB 드라이버 설치 확인
   - 장치 관리자에서 인식되는지 확인

### LoRa 통신 안됨
1. **안테나 확인**
   - 안테나가 제대로 연결되었는지 확인
   - 안테나 주파수가 설정과 맞는지 확인 (433MHz/915MHz)

2. **주변 환경**
   - 금속 물체나 다른 전자기기로부터 거리 두기
   - 송신기와 수신기 간 장애물 제거

## 🧰 필요한 도구

### 기본 도구
- **십자 드라이버** (M3 나사용)
- **멀티미터** (전압/전류 측정)
- **정전기 방지 도구** (손목띠 등)

### 추가 도구 (문제 해결용)
- **납땜 도구** (수리용)
- **핫에어 건** (부품 교체용)
- **오실로스코프** (신호 확인용)

## 📋 유지보수

### 정기 점검 (월 1회)
- [ ] 케이스 외관 점검
- [ ] 배터리 전압 확인
- [ ] 안테나 연결 상태 확인
- [ ] 펌웨어 업데이트 확인

### 청소
- **외관**: 부드러운 천으로 먼지 제거
- **안테나**: 알코올 솜으로 접점 청소
- **USB 포트**: 압축 공기로 먼지 제거

---

조립이 완료되면 [펌웨어 설치](../firmware/installation.md)를 진행하세요.